GET /js/r/about102.js HTTP/1.1
Host: duckduckgo.com
Connection: keep-alive
Accept: */*
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25
Accept-Language: en-us
Referer: https://duckduckgo.com/about
Accept-Encoding: gzip, deflate

HTTP/1.1 200 OK
Server: nginx
Date: Sun, 19 Oct 2014 07:55:08 GMT
Content-Type: application/x-javascript
Content-Length: 8536
Last-Modified: Thu, 19 Jun 2014 00:59:18 GMT
Connection: close
ETag: "53a235e6-2158"
Expires: Mon, 19 Oct 2015 07:55:08 GMT
Cache-Control: max-age=31536000
Vary: Accept-Encoding
Accept-Ranges: bytes

DDG.ready(function(){var a=$(".js-lazyload"),c=$(".js-team-toggle"),b=nrj("/js/build/hammer.min.js");DDG.ImageLoader.registerAll(a,"scrollY");DDG.$doc.bind("scroll",DDG.on_scroll);DDG.$win.bind("resize",function(){DDG.pgAbout.Timeline._activateEvent(0)});c.on("click",function(){$(this).toggleClass("is-active")});$(".js-load-src").click(function(){var e=$(this).attr("href"),d=$(e);if(d[0]){lazySRC(d.find(".js-lazy-src"))}});if(window.location.hash){lazySRC($(window.location.hash))}DDG.pgAbout.init({touchlib:b});DDG.pgAbout.News.init({el:".js-news-slider",items:".js-news-item",sources:".js-news-source",next:".js-news-next",prev:".js-news-prev"});DDG.pgAbout.Timeline.init({el:".js-event-slider",main:".js-slider",items:".js-event",timeline:".js-timeline",yearline:".js-timeline-yr",next:".js-event-next",prev:".js-event-prev"})});function lazySRC(a){if(a&&!a.hasClass("js-lazy-src")){a=a.find(".js-lazy-src")}a.attr("src",a.attr("data-src"))}!function(a){a.pgAbout={init:function(b){if(b.touchlib){b.touchlib.onload=this._touchLoad.bind(this)}},_touchLoad:function(){this.News._bindTouch();this.Timeline._bindTouch()}};a.pgAbout.News={init:function(e){this.items=[];this.$el=$(e.el);this.$sources=this.$el.find(e.sources);this.$items=this.$el.find(e.items);this.$next=this.$el.find(e.next);this.$prev=this.$el.find(e.prev);this.$next.bind("click",this._onNextClick.bind(this));this.$prev.bind("click",this._onPrevClick.bind(this));this.$sources.bind("click",this._onSourceClick.bind(this));for(var d=0,b=this.$items.length;d<b;d++){var f={},c=$(this.$items[d]);f.idx=d;f.$html=c;f.source=c.attr("data-source");f.$source=this._matchSources(f.source);this.items[d]=f;if(d==0){f.$html.addClass("is-first");this.activeByIndex(d)}}},activeByIndex:function(b){var c=this.items[b];if(!c){return}this.deactivate();this._activeItem=c;this._activeItem.$html.addClass("is-active");this._activeItem.$source.addClass("is-active");this.slideItems(b)},activeByName:function(c){var b=this._getIndexByStr(c);if(b==="undefined"||(this._activeItem&&this._activeItem.idx==b)){return}this.activeByIndex(b)},deactivate:function(){if(!this._activeItem){return}this._activeItem.$html.removeClass("is-active");this._activeItem.$source.removeClass("is-active")},slideItems:function(b){var c=b*100;this.items[0].$html.css("margin-left","-"+c+"%")},_getIndexByStr:function(e){for(var c=0,b=this.items.length;c<b;c++){var d=this.items[c];if(e===d.source){return c}}},_matchSources:function(d){for(var c=0,b=this.$sources.length;c<b;c++){var e=$(this.$sources[c]);if(d===e.attr("data-source")){return e}}},_bindTouch:function(){if(!Modernizr.touch){return}var b=this;Hammer(this.$el[0],{dragLockToAxis:true}).on("dragleft dragright swipeleft swiperight",b._onSwipe.bind(b))},_onNextClick:function(){var b=this._activeItem.idx+1;if(b>=this.items.length){b=0}this.activeByIndex(b)},_onPrevClick:function(){var b=this._activeItem.idx-1;if(b<0){b=this.items.length-1}this.activeByIndex(b)},_onSourceClick:function(c){c.preventDefault();var b=$(c.currentTarget);this.activeByName(b.attr("data-source"))},_onSwipe:function(b){b.gesture.preventDefault();switch(b.type){case"swipeleft":this._onNextClick();b.gesture.stopDetect();break;case"swiperight":this._onPrevClick();b.gesture.stopDetect();break}}};a.pgAbout.Timeline={ACTIVE_TIMELINE_NODE_WIDTH:94,TIMELINE_NEWS_NODE_WIDTH:50,TIMELINE_COMPANY_NODE_WIDTH:20,TIMELINE_TRAFFIC_NODE_WIDTH:30,TIMELINE_DEFAULT_NODE_WIDTH:18,init:function(f){this.items=[],this.years={};this.$el=$(f.el);this.$main=this.$el.find(f.main);this.$items=this.$el.find(f.items);this.$timeline=this.$el.find(f.timeline);this.$yearline=this.$el.find(f.yearline);this.$next=this.$el.find(f.next);this.$prev=this.$el.find(f.prev);this.$next.bind("click",this._onNextClick.bind(this));this.$prev.bind("click",this._onPrevClick.bind(this));this.makeBackToStart();for(var d=0,b=this.$items.length;d<b;d++){var h={},c=$(this.$items[d]),e,g;h.idx=d;h.$html=c;h.date=c.attr("data-date");h.text=c.attr("data-text")||h.date;h.type=c.attr("data-type");if(h.date){h.Date=new Date(h.date);h.year=h.Date.getFullYear();e=this.years[h.year];if(!e){g=this.makeYearNode(h.year);e=this.years[h.year]={id:e,$node:g,items:[]}}}h.$timenode=this.makeTimelineNode(h);if(e){e.items.push(h)}this.items[d]=h;if(d==0){this._activateEvent(d)}}},makeTimelineNode:function(h){var c,e,b,d,f,i,g="";d="event-timeline__item";if(h.type){d+="  event-timeline__item--"+h.type}if(this._lastDate){e=Math.floor(((h.Date-this._lastDate)/10000000)/6);e=Math.min(e,viewport_width/4);e=Math.max(e,50);f=this.formatMonth(h.date);i=this.formatDate(h.Date.getDate());g='<span class="event-timeline__month">'+f+'</span><span class="event-timeline__date">'+i+"</span>";this._lastDate=h.Date}else{e=(this.ACTIVE_TIMELINE_NODE_WIDTH/2)*-1;d+="  event-timeline__item--first  ddgsi";this._lastDate=new Date()}b='<span class="'+d+'" data-index="'+h.index+'"';b+=' style="margin-left:'+e+'px;"><span class="event-timeline__item__ct">'+g+"</span></span>";c=$(b);c.bind("click",this._onTimeLineClick.bind(this,h.idx));c.appendTo(this.$timeline);return c},makeYearNode:function(d){var b,c,e="event-timeline__year";c='<span class="'+e+'">'+d+"</span>";b=$(c);b.bind("click",this._onYearClick.bind(this,d));b.appendTo(this.$yearline);return b},formatDate:function(b){return(b<10?"0":"")+b},formatMonth:function(b){return b.slice(0,3)},makeBackToStart:function(){var b,c="event-timeline__item  event-timeline__item--back  ddgsi";this.$back=$('<span class="'+c+'">&#9664;&#9664;</span>');this.$back.bind("click",this._onBackToStartClick.bind(this));this.$back.appendTo(this.$timeline)},_activateEvent:function(c,b){var d=(c==0)?-(viewport_width/2):-(viewport_width/2)+(this.ACTIVE_TIMELINE_NODE_WIDTH/2);if(!this.items){return}if(this._activeItem&&this._activeItem.idx==c){b=1}else{if(this._activeItem){this._deActivateEvent()}}if(c>0&&this._activeItem.idx<c){d+=this._getNodeOffset(this._activeItem.idx)/4-this._getNodeOffset(c)/4}this._activeItem=this.items[c];this._activeItem.$timenode.addClass("is-active");this._activeItem.$html.addClass("is-active");this._activateYear(this._activeItem.year,b);this.checkBackToStart(c);if(!b){this.$main.stop(true,false);this.$timeline.stop(true,false);this.$main.scrollTo(this._activeItem.$html,DDG.animation_speed*1.25);this.$timeline.scrollTo(this._activeItem.$timenode,DDG.animation_speed*2,{offset:d})}},_activateYear:function(e,b){var d=this.years[e],c=-(viewport_width/2);if(!d){this._deActivateYear();this.$yearline.scrollTo(0,0,DDG.animation_speed*2);return}if(this._activeYear&&this._activeYear.id==e){b=1}else{if(this._activeYear){this._deActivateYear()}}this._activeYear=d;this._activeYear.$node.addClass("is-active");if(!b){if(!this.yearNodeSize){this.yearNodeSize=parseInt(this._activeYear.$node.outerWidth())}c+=this.yearNodeSize/2;this.$yearline.stop(true,false);this.$yearline.scrollTo(this._activeYear.$node,DDG.animation_speed*2,{offset:c})}},_getNodeOffset:function(b){var c;switch(this.items[b].type){case"news":c=this.TIMELINE_NEWS_NODE_WIDTH/2;break;case"traffic":c=this.TIMELINE_TRAFFIC_NODE_WIDTH/2;break;case"internal":c=this.TIMELINE_COMPANY_NODE_WIDTH/2;break}if(!c){c=this.TIMELINE_DEFAULT_NODE_WIDTH}return c},_deActivateEvent:function(){this._activeItem.$timenode.removeClass("is-active");this._activeItem.$html.removeClass("is-active")},_deActivateYear:function(){if(!this._activeYear){return}this._activeYear.$node.removeClass("is-active")},checkBackToStart:function(b){if(b==0&&this._showingBackArrow){this._showingBackArrow="";this.$back.removeClass("can-show")}else{if(b>0&&!this._showingBackArrow){this._showingBackArrow=1;this.$back.addClass("can-show")}}},_bindTouch:function(){var b=this;Hammer(this.$el[0],{dragLockToAxis:true}).on("dragleft dragright swipeleft swiperight",b._onSwipe.bind(b))},_onNextClick:function(){if(this._activeItem.idx==(this.items.length-1)){return}var b=this._activeItem.idx+1;this._activateEvent(b)},_onPrevClick:function(){if(this._activeItem.idx==0){return}var b=this._activeItem.idx-1;this._activateEvent(b)},_onBackToStartClick:function(){this._activateEvent(0)},_onTimeLineClick:function(b){if(this._activeItem&&this._activeItem.idx==0&&b==0){b=1}this._activateEvent(b)},_onYearClick:function(c){var b=this.years[c];if(!b){return}this._activateYear(c);this._activateEvent(b.items[0].idx)},_onSwipe:function(b){b.gesture.preventDefault();switch(b.type){case"swipeleft":this._onNextClick();b.gesture.stopDetect();break;case"swiperight":this._onPrevClick();b.gesture.stopDetect();break}}}}(DDG);